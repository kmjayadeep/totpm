<div class="max-w-[30rem] mx-auto">
  <div class="flex flex-col items-center">
    <h2 class="mb-5 text-gray-900 font-mono font-bold text-xl">Edit Account</h2>
    <form method="post" class="w-full">
      <div>
        <label for="service" class="font-bold">Service</label>
        <input id="service" name="service" type="text" class="mt-2 w-full px-6 py-3 mb-4 border border-slate-600 rounded-lg font-medium " placeholder="Eg: Google" value="{{ .account.Service }}"/>
      </div>

      <div>
        <label for="account" class="font-bold">Account</label>
        <input id="account" name="account" type="text" class="mt-2 w-full px-6 py-3 mb-4 border border-slate-600 rounded-lg font-medium " placeholder="Eg: John Doe" value="{{ .account.Account }}"/>
      </div>

      <div>
        <label for="secret" class="font-bold">Secret</label>
        <input id="secret" name="secret" type="text" class="mt-2 w-full px-6 py-3 mb-4 border border-slate-600 rounded-lg font-medium " value="{{ .secret }}" />
      </div>

      <div>
        <label for="type" class="font-bold">Otp Type</label>
        <input id="type" name="otpType" type="text" class="mt-2 w-full px-6 py-3 mb-4 border border-slate-600 rounded-lg font-medium " value="{{ .account.OtpType }}"/>
      </div>

      <div class="mt-8 mb-8">
        <label for="icon" class="font-bold">Icon</label>
        <div class="h-24 p-2 flex justify-center">
          <img class="h-full" src="{{ .account.Icon | url }}" />
        </div>
        <input id="icon" type="file" accept="image/*" class="mt-2 w-full px-6 py-3 mb-4 border border-slate-600 rounded-lg font-medium " value=""/>
        <input id="iconbase64" type="text" hidden class="mt-2 w-full px-6 py-3 mb-4 border border-slate-600 rounded-lg font-medium" name="icon" value="{{ .account.Icon }}"/>
      </div>

      <div>
        <label for="digits" class="font-bold">Digits</label>
        <input id="digits" name="digits" type="number" class="mt-2 w-full px-6 py-3 mb-4 border border-slate-600 rounded-lg font-medium " value="{{ .account.Digits }}"/>
      </div>

      <div class="flex">
        <button type="submit" class="mr-2 bg-slate-500 hover:bg-slate-700 text-white text-base rounded-lg py-2.5 px-5 transition-colors w-full text-[19px]">Update</button>
        <button hx-delete="/accounts/{{ .account.ID }}" hx-confirm="Are you sure?" class="ml-2 bg-red-400 hover:bg-red-700 text-white text-base rounded-lg py-2.5 px-5 transition-colors w-full text-[19px]">Delete</button>
      </div>
    </form>
  </div>
</div>

<script>
  document.getElementById('icon').addEventListener('change', function(event) {
    const file = event.target.files[0];
    const reader = new FileReader();

    reader.onloadend = function() {
      const base64 = reader.result;
      document.getElementById('iconbase64').value = base64;
    };

    reader.readAsDataURL(file);
  });
</script>
